@page "/administration/hangfire"

@inject IJSRuntime JS

<iframe src=@HangFireUrl style="width: 100%; height: 900px;"></iframe>

<script>
    function RemoveBackToAppLink() {
        var iframeElement = document.querySelectorAll("iframe")[0];
        var elementToRemove = iframeElement.contentWindow.document.querySelectorAll(".navbar-right")[0];
        if (elementToRemove != null)
            elementToRemove.remove();
    }
</script>

@code {
    private string HangFireUrl { get; set; }

    protected override async Task OnInitializedAsync()
    {
        HangFireUrl = NavigationManager.BaseUri + "hangfire";
    }

    protected async override Task OnAfterRenderAsync(bool firstRender)
    {
        await Task.Delay(100);
        await JS.InvokeVoidAsync("RemoveBackToAppLink");

        await base.OnAfterRenderAsync(firstRender);
    }
}